<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   <link rel="stylesheet" href="profile.css">
</head>
<body>
    
    <div id="profile-photo">
        <div><img src="" id="user-photo" alt=""></div>
        <div>
            <b id="user-name" style="text-transform: capitalize; font-family: Verdana, Geneva, Tahoma, sans-serif;"></b>
        </div>
        <div><button id="signout-user">sign-out</button></div>
    </div>


    <div id="logged-accounts">
          <h3>My Accounts</h3> 

          <div id="account-cards">
            <div class="account-card">1</div>
            <div class="account-card">2</div>
            <div class="account-card">3</div>
            <div class="account-card">4</div>
          </div>
    </div>
</body>
</html>

<script type="module">
  
function checkUser() {
  const status = JSON.parse(localStorage.getItem("isLogged"));

  if (!status) {
    return (window.location.href = "/Build-Week--Social-Media-Content-Scheduler/frontend/forms/signin.html");
  }

  let  values= JSON.parse(localStorage.getItem('values'))
         
  if(values.gender=="male"){
       document.getElementById("user-photo").src="https://img.freepik.com/premium-photo/cyberpunk-aesthetic-portrait-concept_659788-13802.jpg?ga=GA1.1.1119130901.1744094286&semt=ais_hybrid&w=740"
  }
  else if(values.gender=="male"){
     document.getElementById("user-photo").src="https://img.freepik.com/premium-photo/cyberpunk-aesthetic-portrait-concept_659788-13802.jpg?ga=GA1.1.1119130901.1744094286&semt=ais_hybrid&w=740"
  }
  else{
    document.getElementById("user-photo").alt=`${values.name}`
  }


  document.getElementById('user-name').innerText=`${values.name}`
    }
   
   checkUser()




    // sign out function
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-analytics.js";
     import { 
    getAuth,
    createUserWithEmailAndPassword,
    signInWithEmailAndPassword,
    signOut,
    onAuthStateChanged

   } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyCLRuHwzVLgndB4rABibJbuIC_y5gZnRZs",
        authDomain: "social-media-db-1bb6f.firebaseapp.com",
        databaseURL: "https://social-media-db-1bb6f-default-rtdb.firebaseio.com",
        projectId: "social-media-db-1bb6f",
        storageBucket: "social-media-db-1bb6f.firebasestorage.app",
        messagingSenderId: "797390709264",
        appId: "1:797390709264:web:8178b280222b43443ce095",
        measurementId: "G-7YWTEN1XF1"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app)


    document.getElementById('signout-user').addEventListener("click", () => {
        auth.signOut()
            .then(() => {
                window.location.href = '/Build-Week--Social-Media-Content-Scheduler/frontend//forms/signin.html'


                localStorage.removeItem("isLogged")
                
                
            })
            .catch((error) => {
                document.getElementById('error-login').innerText = error.message
            })
    })

</script>



